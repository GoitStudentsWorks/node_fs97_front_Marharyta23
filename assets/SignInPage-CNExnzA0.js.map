{"version":3,"file":"SignInPage-CNExnzA0.js","sources":["../../src/components/SignInForm/SignInForm.jsx","../../src/pages/SignInPage/SignInPage.jsx"],"sourcesContent":["import { useDispatch } from \"react-redux\";\nimport { logIn } from \"../../redux/auth/operations\";\nimport { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport { Link, useNavigate } from \"react-router-dom\";\n\nimport icons from \"../../img/icons.svg\";\nimport { errorToast } from \"../../helpers/toast\";\n\nimport css from \"./SignInForm.module.css\";\n\nconst schema = yup.object().shape({\n  email: yup.string().email(\"Invalid email\").required(\"Email is required\"),\n  password: yup.string().required(\"Password is required\"),\n});\n\nconst SignInForm = () => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  // Використання react-hook-form для управління формою\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  // Показ та приховування паролю\n  const [showPassword, setShowPassword] = useState(false);\n\n  const togglePasswordVisibility = () => {\n    setShowPassword(!showPassword);\n  };\n\n  // Обробник подання форми\n  const onSubmit = (data) => {\n    // data.preventDefault();\n\n    // Відправка запиту на backend для авторизації користувача\n    dispatch(logIn(data))\n      .unwrap()\n      .then(() => {\n        // Якщо авторизація успішна, перенаправлення на сторінку TrackerPage\n        navigate(\"/tracker\");\n      })\n      .catch((error) => {\n        // Обробка помилки авторизації\n        errorToast(`${error}`); // Показуємо notification про помилку\n      });\n  };\n\n  return (\n    <div className={css.signInForm}>\n      <h2 className={css.signInFormHeader}>Sign In</h2>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <div>\n          <label className={css.signInFormLabel}>Email</label>\n          <input\n            className={`${css.signInFormInput} ${\n              errors.email ? `${css.errorPlaceholder} ${css.errorInput}` : \"\"\n            }`}\n            type=\"email\"\n            placeholder={errors.email ? \"Invalid email\" : \"Enter your email\"}\n            {...register(\"email\")}\n          />\n          {errors.email && (\n            <p className={css.errorMessage}>{errors.email.message}</p>\n          )}\n        </div>\n        <div>\n          <label className={css.signInFormLabel}>Password</label>\n          <div style={{ position: \"relative\" }}>\n            <input\n              className={`${css.signInFormInput} ${\n                errors.password\n                  ? `${css.errorPlaceholder} ${css.errorInput}`\n                  : \"\"\n              }`}\n              type={showPassword ? \"text\" : \"password\"}\n              placeholder={\n                errors.password ? \"Invalid password\" : \"Enter your password\"\n              }\n              {...register(\"password\")}\n            />\n\n            <svg\n              onClick={togglePasswordVisibility}\n              className={css.passwordToggleIcon}\n              width=\"18\"\n              height=\"18\"\n              style={{\n                position: \"absolute\",\n                right: 10,\n                top: \"50%\",\n                transform: \"translateY(-50%)\",\n                cursor: \"pointer\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n              }}\n            >\n              <use\n                href={`${icons}#icon-${showPassword ? \"eye\" : \"eye-off\"}`}\n              ></use>\n            </svg>\n          </div>\n          {errors.password && (\n            <p className={css.errorMessage}>{errors.password.message}</p>\n          )}\n        </div>\n        <button className={css.signInBtn} type=\"submit\">\n          Sign In\n        </button>\n      </form>\n      <p className={css.signInPageText}>\n        Don't have an account?{\" \"}\n        <Link to=\"/signup\" className={css.SignInPageLink}>\n          Sign Up\n        </Link>\n      </p>\n    </div>\n  );\n};\n\nexport default SignInForm;\n","import { useState, useEffect } from \"react\";\n\nimport Logo from \"../../components/Logo/Logo.jsx\";\nimport SignInForm from \"../../components/SignInForm/SignInForm.jsx\";\nimport DocumentTitle from \"../../components/DocumentTitle/DocumentTitle\";\nimport AdvantagesSection from \"../../components/AdvantagesSection/AdvantagesSection\";\nimport { selectIsLoading } from \"../../redux/auth/selectors.js\";\nimport { useSelector } from \"react-redux\";\n\nimport Loader from \"../../components/Loader/Loader\";\nimport css from \"./SignInPage.module.css\";\nimport { Toaster } from \"react-hot-toast\";\n\nexport default function SignInPage() {\n  const [isDesktop, setIsDesktop] = useState(window.innerWidth >= 1440);\n\n  useEffect(() => {\n    const handleResize = () => {\n      setIsDesktop(window.innerWidth >= 1440);\n    };\n\n    window.addEventListener(\"resize\", handleResize);\n\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, []);\n  const loading = useSelector(selectIsLoading);\n\n  return (\n    <div className={css.SignInPageWrapper}>\n      {loading && <Loader />}\n      <DocumentTitle>Sign In</DocumentTitle>\n      <div className={css.SignInPageSection}>\n        <Logo />\n        <SignInForm />\n      </div>\n      {isDesktop && <AdvantagesSection />}\n      <Toaster />\n    </div>\n  );\n}\n"],"names":["schema","yup.object","yup.string","SignInForm","dispatch","useDispatch","navigate","useNavigate","register","handleSubmit","errors","useForm","yupResolver","showPassword","setShowPassword","useState","togglePasswordVisibility","onSubmit","data","logIn","error","errorToast","jsxs","css","jsx","icons","Link","SignInForm$1","SignInPage","isDesktop","setIsDesktop","useEffect","handleResize","loading","useSelector","selectIsLoading","Loader","DocumentTitle","Logo","AdvantagesSection","Toaster"],"mappings":"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"}